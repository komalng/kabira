{"version":3,"names":[],"mappings":"","sources":["video-deck.js"],"sourcesContent":["// https://developers.google.com/youtube/iframe_api_reference\n\nvar player, timer, video_id;\n\nbackToThumbs = () => {\n  $('.card iframe').each((index, value) => {\n    var v_id = value.id;\n    var new_html = `<div style=\"position: relative;\" id=\"` + v_id + `\">\n        <div class=\"placeholder\" onclick=\"playVideoCustom('`+ v_id + `')\">\n          <img class=\"card-img-top img-fluid\" src=\"https://img.youtube.com/vi/`+ v_id + `/mqdefault.jpg\">\n          <img src=\"assets/img/playicon.png\" class=\"playicon\" />\n        </div>\n      </div>` + $('#' + v_id).parent().children(\":nth-child(2)\")[0].outerHTML;\n    $('#' + v_id).parent().html(new_html);\n  });\n}\n\ngrayScale = () => {\n  $(\".placeholder\").css(\"webkitFilter\", \"grayscale(0.9) brightness(40%)\");\n}\nplayVideoCustom = (vid) => {\n\n  backToThumbs();\n  grayScale();\n\n  video_id = vid;\n  player = new YT.Player(video_id, {\n    height: $('#'+vid).height(),\n    width: $('#'+vid).width(),\n    videoId: video_id,\n    playerVars: {\n      autoplay: 1,\n      origin: window.location.origin,\n      autohide: 1,\n      host: `${window.location.protocol}//www.youtube.com`\n    },\n    events: {\n      'onReady': onPlayerReady,\n      'onStateChange': onPlayerStateChange\n    }\n  });\n}\n\n// myTimer = (target) => {\n  // target.playVideo();\n// }\n\nfunction onPlayerReady (event) {\n  event.target.setVolume(100);\n  timer = setInterval(function(){console.log(event.target); event.target.playVideo();}, 2000);\n}\n\nonPlayerStateChange = (event) => {\n  if (event.data == YT.PlayerState.PLAYING) {\n    clearInterval(timer);\n  };\n\n  if (event.data == YT.PlayerState.ENDED) {\n    if ($('#' + video_id).parent().next().html()) {\n      video_id = $('#' + video_id).parent().next().children(\":first\").attr('id');\n    } else {\n      video_id = $('#Cnm7NQTtFag').parent().parent().children(\":first\").children(\":first\").attr('id');\n    }\n    playVideoCustom(video_id)\n  }\n}"],"file":"video-deck.js"}